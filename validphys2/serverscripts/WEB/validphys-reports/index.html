<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Zahari Kassabov">
<title>Validphys Reports</title>
<style type="text/css">code{white-space: pre;}</style>
<link rel="stylesheet" href="report.css">
<link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.2.4/css/buttons.dataTables.min.css">
<link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.2.4/css/buttons.dataTables.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.13/js/jquery.dataTables.min.js"></script>
<!--[if lt IE 9]>
  <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
<![endif]-->
<script type="text/javascript" class="init">


var HIGHLIGHT_TAG = 'gallery';


$(document).ready(function() {
	$.getJSON("index.json",
    function(data){
	  var data = data['data'];
	  var highlight_data = (filter_tag(data, HIGHLIGHT_TAG));

	  $('#highlight').DataTable( {
		"data": highlight_data,
		'paging': false,
		'info': false,
		'searching': false,
		"order": [[2, "desc"]],
		"columns": [null,
		            null,
					{"render":
			            {
							"_": "0",
							"type": "1",
							"sort": "1",
					    }
		            },
					null
		           ]
	  } );
	  $('#global').DataTable( {
		"data": data,
		"order": [[2, "desc"]],
		"columns": [null,
		            null,
					{"render":
			            {
							"_": "0",
							"type": "1",
							"sort": "1",
					    }
		            },
					null
		           ]
	  } );
	$('#global_wrapper .dataTables_filter input').focus();
    }
    );

} );

function filter_tag(data, tag){
	return data.filter(function(value){
		return value[3].includes(tag);
	});

}


</script>
</head>
<body>
<h1 class="title" >Validphys Reports</h1>
<h2>Reports to build the gallery</h2>
<table id="highlight" class="display" width="100%" cellspacing="0">
        <thead>
            <tr>
                <th>Title</th>
                <th>Author</th>
                <th>Date</th>
                <th>Tags</th>
            </tr>
        </thead>
    </table>

<h2>All reports</h2>

<table id="global" class="display" width="100%" cellspacing="0">
        <thead>
            <tr>
                <th>Title</th>
                <th>Author</th>
                <th>Date</th>
                <th>Tags</th>
            </tr>
        </thead>
    </table>
</body>
</html>
